<HTML>
  <HEAD>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
    <META NAME="Author" CONTENT="Comarch S.A.">
    <LINK rel="stylesheet" type="text/css" href="Style/doc.css">
    <TITLE>Skrypt SQL</TITLE>
  </HEAD>
  <BODY>
<DIV CLASS="TextInfo">
      <P><A name="TraNag_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* TraNag_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.TraNag_DeleteAtrybutyHist
  ON CDN.TraNag
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.TrN_GIDNumer AND AtH_AtrTyp = deleted.TrN_GIDTyp AND AtH_AtrLp = deleted.TrN_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.TrN_GIDNumer AND AtH_AtrTyp = deleted.TrN_GIDTyp AND AtH_AtrLp = deleted.TrN_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.TrN_GIDNumer AND Atr_AtrTyp = deleted.TrN_GIDTyp AND Atr_AtrLp = deleted.TrN_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.TrN_GIDNumer AND Atr_AtrTyp = deleted.TrN_GIDTyp AND Atr_AtrLp = deleted.TrN_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="TwrKarty_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* TwrKarty_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.TwrKarty_DeleteAtrybutyHist
  ON CDN.TwrKarty
  FOR DELETE
AS
SET NOCOUNT ON	
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.Twr_GIDNumer AND AtH_AtrTyp = deleted.Twr_GIDTyp AND AtH_AtrLp = deleted.Twr_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.Twr_GIDNumer AND AtH_AtrTyp = deleted.Twr_GIDTyp AND AtH_AtrLp = deleted.Twr_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.Twr_GIDNumer AND Atr_AtrTyp = deleted.Twr_GIDTyp AND Atr_AtrLp = deleted.Twr_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.Twr_GIDNumer AND Atr_AtrTyp = deleted.Twr_GIDTyp AND Atr_AtrLp = deleted.Twr_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="KntKarty_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* KntKarty_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.KntKarty_DeleteAtrybutyHist
  ON CDN.KntKarty
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.KnT_GIDNumer AND AtH_AtrTyp = deleted.KnT_GIDTyp AND AtH_AtrLp = deleted.KnT_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.KnT_GIDNumer AND AtH_AtrTyp = deleted.KnT_GIDTyp AND AtH_AtrLp = deleted.KnT_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.KnT_GIDNumer AND Atr_AtrTyp = deleted.KnT_GIDTyp AND Atr_AtrLp = deleted.KnT_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.KnT_GIDNumer AND Atr_AtrTyp = deleted.KnT_GIDTyp AND Atr_AtrLp = deleted.KnT_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="SrtKarty_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* SrtKarty_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.SrtKarty_DeleteAtrybutyHist
  ON CDN.SrtKarty
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.SrT_GIDNumer AND AtH_AtrTyp = deleted.SrT_GIDTyp AND AtH_AtrLp = deleted.SrT_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.SrT_GIDNumer AND AtH_AtrTyp = deleted.SrT_GIDTyp AND AtH_AtrLp = deleted.SrT_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.SrT_GIDNumer AND Atr_AtrTyp = deleted.SrT_GIDTyp AND Atr_AtrLp = deleted.SrT_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.SrT_GIDNumer AND Atr_AtrTyp = deleted.SrT_GIDTyp AND Atr_AtrLp = deleted.SrT_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="MagNag_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* MagNag_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.MagNag_DeleteAtrybutyHist
  ON CDN.MagNag
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.MaN_GIDNumer AND AtH_AtrTyp = deleted.MaN_GIDTyp AND AtH_AtrLp = deleted.MaN_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.MaN_GIDNumer AND AtH_AtrTyp = deleted.MaN_GIDTyp AND AtH_AtrLp = deleted.MaN_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.MaN_GIDNumer AND Atr_AtrTyp = deleted.MaN_GIDTyp AND Atr_AtrLp = deleted.MaN_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.MaN_GIDNumer AND Atr_AtrTyp = deleted.MaN_GIDTyp AND Atr_AtrLp = deleted.MaN_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="ImpNag_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* ImpNag_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.ImpNag_DeleteAtrybutyHist
  ON CDN.ImpNag
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.ImN_GIDNumer AND AtH_AtrTyp = deleted.ImN_GIDTyp AND AtH_AtrLp = deleted.ImN_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.ImN_GIDNumer AND AtH_AtrTyp = deleted.ImN_GIDTyp AND AtH_AtrLp = deleted.ImN_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.ImN_GIDNumer AND Atr_AtrTyp = deleted.ImN_GIDTyp AND Atr_AtrLp = deleted.ImN_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.ImN_GIDNumer AND Atr_AtrTyp = deleted.ImN_GIDTyp AND Atr_AtrLp = deleted.ImN_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="SadNag_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* SadNag_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.SadNag_DeleteAtrybutyHist
  ON CDN.SadNag
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.SaN_GIDNumer AND AtH_AtrTyp = deleted.SaN_GIDTyp AND AtH_AtrLp = deleted.SaN_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.SaN_GIDNumer AND AtH_AtrTyp = deleted.SaN_GIDTyp AND AtH_AtrLp = deleted.SaN_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.SaN_GIDNumer AND Atr_AtrTyp = deleted.SaN_GIDTyp AND Atr_AtrLp = deleted.SaN_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.SaN_GIDNumer AND Atr_AtrTyp = deleted.SaN_GIDTyp AND Atr_AtrLp = deleted.SaN_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="ZamNag_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* ZamNag_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.ZamNag_DeleteAtrybutyHist
  ON CDN.ZamNag
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.ZaN_GIDNumer AND AtH_AtrTyp = deleted.ZaN_GIDTyp AND AtH_AtrLp = deleted.ZaN_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.ZaN_GIDNumer AND AtH_AtrTyp = deleted.ZaN_GIDTyp AND AtH_AtrLp = deleted.ZaN_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.ZaN_GIDNumer AND Atr_AtrTyp = deleted.ZaN_GIDTyp AND Atr_AtrLp = deleted.ZaN_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.ZaN_GIDNumer AND Atr_AtrTyp = deleted.ZaN_GIDTyp AND Atr_AtrLp = deleted.ZaN_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="ZlcNag_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* ZlcNag_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.ZlcNag_DeleteAtrybutyHist
  ON CDN.ZlcNag
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.ZcN_GIDNumer AND AtH_AtrTyp = deleted.ZcN_GIDTyp AND AtH_AtrLp = deleted.ZcN_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.ZcN_GIDNumer AND AtH_AtrTyp = deleted.ZcN_GIDTyp AND AtH_AtrLp = deleted.ZcN_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.ZcN_GIDNumer AND Atr_AtrTyp = deleted.ZcN_GIDTyp AND Atr_AtrLp = deleted.ZcN_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.ZcN_GIDNumer AND Atr_AtrTyp = deleted.ZcN_GIDTyp AND Atr_AtrLp = deleted.ZcN_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="ZlcRemNag_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* ZlcRemNag_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.ZlcRemNag_DeleteAtrybutyHist
  ON CDN.ZlcRemNag
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.ZrN_GIDNumer AND AtH_AtrTyp = deleted.ZrN_GIDTyp AND AtH_AtrLp = deleted.ZrN_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.ZrN_GIDNumer AND AtH_AtrTyp = deleted.ZrN_GIDTyp AND AtH_AtrLp = deleted.ZrN_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.ZrN_GIDNumer AND Atr_AtrTyp = deleted.ZrN_GIDTyp AND Atr_AtrLp = deleted.ZrN_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.ZrN_GIDNumer AND Atr_AtrTyp = deleted.ZrN_GIDTyp AND Atr_AtrLp = deleted.ZrN_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="Konta_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* Konta_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.Konta_DeleteAtrybutyHist
  ON CDN.Konta
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.KKS_GIDNumer AND AtH_AtrTyp = deleted.KKS_GIDTyp AND AtH_AtrLp = deleted.KKS_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.KKS_GIDNumer AND AtH_AtrTyp = deleted.KKS_GIDTyp AND AtH_AtrLp = deleted.KKS_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.KKS_GIDNumer AND Atr_AtrTyp = deleted.KKS_GIDTyp AND Atr_AtrLp = deleted.KKS_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.KKS_GIDNumer AND Atr_AtrTyp = deleted.KKS_GIDTyp AND Atr_AtrLp = deleted.KKS_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="PrcKarty_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* PrcKarty_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.PrcKarty_DeleteAtrybutyHist
  ON CDN.PrcKarty
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.PrC_GIDNumer AND AtH_AtrTyp = deleted.PrC_GIDTyp AND AtH_AtrLp = deleted.PrC_GIDLp)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.PrC_GIDNumer AND AtH_AtrTyp = deleted.PrC_GIDTyp AND AtH_AtrLp = deleted.PrC_GIDLp
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.PrC_GIDNumer AND Atr_AtrTyp = deleted.PrC_GIDTyp AND Atr_AtrLp = deleted.PrC_GIDLp)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.PrC_GIDNumer AND Atr_AtrTyp = deleted.PrC_GIDTyp AND Atr_AtrLp = deleted.PrC_GIDLp
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="DaneBinarne_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* DaneBinarne_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.DaneBinarne_DeleteAtrybutyHist
  ON CDN.DaneBinarne
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.DAB_ID AND AtH_AtrTyp = 14400)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.DAB_ID AND AtH_AtrTyp = 14400
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.DAB_ID AND Atr_AtrTyp = 14400)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.DAB_ID AND Atr_AtrTyp = 14400
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="ProdTechnologia_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* ProdTechnologia_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.ProdTechnologia_DeleteAtrybutyHist
  ON CDN.ProdTechnologia
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.PTE_ID AND AtH_AtrTyp = 14340)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.PTE_ID AND AtH_AtrTyp = 14340
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.PTE_ID AND Atr_AtrTyp = 14340)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.PTE_ID AND Atr_AtrTyp = 14340
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
<DIV CLASS="TextInfo">
      <P><A name="ProdZlecenia_DeleteAtrybutyHist"></A><PRE>
          <FONT SIZE="2"><I>/* ProdZlecenia_DeleteAtrybutyHist */</I><BR>
CREATE TRIGGER CDN.ProdZlecenia_DeleteAtrybutyHist
  ON CDN.ProdZlecenia
  FOR DELETE
AS
SET NOCOUNT ON
	if exists(select * FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.PZL_ID AND AtH_AtrTyp = 14343)
		UPDATE CDN.AtrybutyHist SET AtH_Wartosc = '[*]'+AtH_Wartosc,AtH_AtrTyp = 0,AtH_AtrFirma = 0,AtH_AtrNumer = 0,AtH_AtrLp = 0,AtH_AtrSubLp = 0
			FROM deleted JOIN CDN.AtrybutyHist ON AtH_AtrNumer = deleted.PZL_ID AND AtH_AtrTyp = 14343
	if exists(select * FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.PZL_ID AND Atr_AtrTyp = 14343)
		UPDATE CDN.Atrybuty SET Atr_Wartosc = '[*]'+Atr_Wartosc,Atr_AtrTyp = 0,Atr_AtrFirma = 0,Atr_AtrNumer = 0,Atr_AtrLp = 0,Atr_AtrSubLp = 0
			FROM deleted JOIN CDN.Atrybuty ON Atr_AtrNumer = deleted.PZL_ID AND Atr_AtrTyp = 14343
SET NOCOUNT OFF
</FONT>
        </PRE>
      </P>
      <HR>
    </DIV>
</BODY>
</HTML>