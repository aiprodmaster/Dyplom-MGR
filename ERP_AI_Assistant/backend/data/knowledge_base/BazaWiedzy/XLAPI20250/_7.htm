<html>

<head>
  <title> Wersjonowanie</title>
  <meta http-equiv=Content-Type content="text/html; charset=windows-1250">
  <meta name="GENERATOR" content="Macrobject Word-2-CHM Pro">
  <link rel="stylesheet" href="default.css" type="text/css" />
  <link rel="stylesheet" href="macrobject.css" type="text/css">
</head>

<body>


<div class=Section1>

<h3><a name=Bookmark6></a><a name="_Toc36896539"></a><span style='mso-bookmark: Bookmark6'><span style='mso-bidi-font-family:"Times New Roman"'>Wersjonowanie</span></span><span style='mso-bidi-font-family:"Times New Roman"'><o:p></o:p></span></h3>

<p class=MsoNormalIndent style='text-indent:28.25pt'><span style='color:black'>Poniewa¿
zak³adamy, i¿ funkcjonalnoœæ XL API bêdzie stale rozszerzana, funkcje te
zosta³y wyposa¿one w mechanizm wersjonowania. Zapewni on kompatybilnoœæ z
poprzednimi wersjami API, czyli pozwoli na unikniêcie sytuacji, kiedy to po
zmodyfikowaniu (rozszerzeniu) funkcji API u¿ytkownicy i integratorzy byli
zmuszeni do wprowadzania odpowiednich zmian w napisanych przez siebie
aplikacjach wspomagaj¹cych.</span><span style='font-size:12.0pt;line-height:
107%'><o:p></o:p></span></p>

<p class=MsoNormalIndent style='text-indent:28.25pt'><span style='color:black'>Poniewa¿
Comarch ERP XL musi zawsze dzia³aæ na najnowszych strukturach danych, mechanizm
wersjonowania bêdzie pe³ni³ role translatora pomiêdzy strukturami API
przekazanymi z zewnêtrznej aplikacji a strukturami wykorzystywanymi wewn¹trz <span
class=SpellE>XL’a</span>. Po wartoœci przekazanej w polu WERSJA rozpozna on
strukturê przekazan¹ do funkcji i dokona odpowiedniego przepisania wartoœci do
struktury wewnêtrznie wykorzystywanej przez <span class=SpellE>XL’a</span>. W
momencie, gdy struktury wewnêtrzne i zewnêtrzne s¹ ró¿ne, pola
niewykorzystywane zostan¹ wype³nione domyœlnymi wartoœciami. </span></p>

<p class=MsoNormalIndent style='text-indent:28.25pt'><span style='color:black'>Poniewa¿
struktury danych wykorzystywane przez API s³u¿¹ równie¿ do zwracania danych z <span
class=SpellE>XL’a</span> mechanizm wersjonowania jest mechanizmem dzia³aj¹cym w
obie strony (dokona odpowiedniej translacji danych wewnêtrznych do struktury
przekazywanej na zewn¹trz). </span></p>

<p class=MsoNormalIndent><span style='color:black'>Dziêki temu aplikacje
napisane w aktualnej wersji API bêd¹ dzia³a³y poprawnie równie¿ w kolejnych
wersjach <span class=SpellE>XL’a</span>, bez potrzeby dokonywania w nich
przeróbek (z wyj¹tkiem sytuacji, w której chcemy rozszerzyæ funkcjonalnoœæ
aplikacji o nowe mo¿liwoœci XL API). </span></p>

<p class=MsoNormalIndent><b style='mso-bidi-font-weight:normal'><span
style='color:black'>Od wersji systemu Comarch ERP XL 2013.1 zosta³a zmieniona
numeracja wersji API.</span></b></p>

<p class=MsoNormalIndent style='text-indent:28.25pt'><span style='color:black'>Funkcje
API dostêpne z aktualn¹ wersj¹ systemu Comarch ERP XL zosta³y oznaczone numerem
<b style='mso-bidi-font-weight:normal'>20141.</b> Minimalny obs³ugiwany numer
wersji API oznaczono numerem <b style='mso-bidi-font-weight:normal'>20130</b>.
Po ka¿dorazowej zmianie struktur, publikowana bêdzie nowa wersja XL API
oznaczona kolejnym numerem. Numer ten bêdzie nadawany równolegle dla wszystkich
struktur API niezale¿nie od tego, czy zosta³a ona zmieniona (np. zmiana tylko w
strukturze <span class=SpellE>XLLoginInfo</span> spowoduje zmianê numeru wersji
dla wszystkich pozosta³ych struktur API).</span></p>

<p class=MsoNormalIndent><span style='color:black'>&nbsp;</span></p>

<p class=MsoNormalIndent><b style='mso-bidi-font-weight:normal'><span
style='color:black'>Minimaln¹ obs³ugiwan¹ wersj¹ API jest wersja 20130</span></b></p>

<p class=MsoNormalIndent><span style='color:black'>&nbsp;</span></p>

<p class=MsoNormalIndent><span style='color:black'>Aby w systemie Comarch ERP
XL (platforma programistyczna <span class=SpellE>Clarion</span> 8) podpi¹æ API
do w¹tku <span class=SpellE>clarionowego</span>, nale¿y <span class=SpellE>zaprototypowaæ</span>
funkcjê <span class=SpellE>AttachThreadToClarion</span> z biblioteki ClaRUN.DLL
:</span></p>

<p class=MsoNormalIndent><span style='color:black'>&nbsp;</span></p>

<p class=MsoNormalIndent><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>[<span class=SpellE>DllImport</span>(&quot;ClaRUN.dll&quot;)]</span></b><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormalIndent><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='color:black;mso-ansi-language:EN-US'>static extern void <span
class=SpellE>AttachThreadToClarion</span>(int _flag);</span></b><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormalIndent><span lang=EN-US style='color:black;mso-ansi-language:
EN-US'>&nbsp;</span><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=MsoNormalIndent><span style='color:black'>Przed pierwszym wywo³aniem
funkcji API dla ka¿dego nowego w¹tku tworzonego przez aplikacjê wykorzystuj¹c¹
API nale¿y zawo³aæ funkcjê <span class=SpellE>AttachThreadToClarion</span> z
parametrem 1.</span></p>


</div>







</body>

</html>
